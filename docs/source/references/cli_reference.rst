==============
CLI Reference
==============

Alice
-----

.. code:: bash

    (nucypher)$ nucypher alice ACTION [OPTIONS]

+--------------------------+-------------------------------------------------------------------------------+
| Action                   | Description                                                                   |
+==========================+===============================================================================+
| ``init``                 | Create a brand new persistent Alice.                                          |
+--------------------------+-------------------------------------------------------------------------------+
| ``config``               | View and optionally update an existing Alice's configuration.                 |
+--------------------------+-------------------------------------------------------------------------------+
| ``destroy``              | Delete existing Alice's configuration.                                        |
+--------------------------+-------------------------------------------------------------------------------+
| ``decrypt``              | Decrypt data encrypted using an Alice's policy encrypting key                 |
+--------------------------+-------------------------------------------------------------------------------+
| ``derive-policy-pubkey`` | Derive a policy public key from a policy label.                               |
+--------------------------+-------------------------------------------------------------------------------+
| ``grant``                | Create and enact an access policy for some Bob.                               |
+--------------------------+-------------------------------------------------------------------------------+
| ``make-card``            | Create a character card file for public key sharing.                          |
+--------------------------+-------------------------------------------------------------------------------+
| ``public-keys``          | Obtain Alice's public verification and encryption.                            |
+--------------------------+-------------------------------------------------------------------------------+
| ``revoke``               | Revoke a policy.                                                              |
+--------------------------+-------------------------------------------------------------------------------+
| ``run``                  | Start Alice's HTTP controller.                                                |
+--------------------------+-------------------------------------------------------------------------------+

Bob
---


.. code:: bash

    (nucypher)$ nucypher bob ACTION [OPTIONS]


+--------------------------+-------------------------------------------------------------------------------+
| Action                   | Description                                                                   |
+==========================+===============================================================================+
| ``init``                 | Create a brand new persistent Bob.                                            |
+--------------------------+-------------------------------------------------------------------------------+
| ``config``               | View and optionally update an existing Bob's configuration.                   |
+--------------------------+-------------------------------------------------------------------------------+
| ``destroy``              | Delete existing Bob's configuration.                                          |
+--------------------------+-------------------------------------------------------------------------------+
| ``retrieve``             | Obtain plaintext from encrypted data, if access was granted.                  |
+--------------------------+-------------------------------------------------------------------------------+
| ``make-card``            | Create a character card file for public key sharing.                          |
+--------------------------+-------------------------------------------------------------------------------+
| ``public-keys``          | Obtain Bob's public verification and encryption.                              |
+--------------------------+-------------------------------------------------------------------------------+
| ``run``                  | Start Bob's HTTP controller.                                                  |
+--------------------------+-------------------------------------------------------------------------------+


Enrico
-------


.. code:: bash

    (nucypher)$ nucypher enrico ACTION [OPTIONS]


+--------------------------+-------------------------------------------------------------------------------+
| Action                   | Description                                                                   |
+==========================+===============================================================================+
| ``encrypt``              | Encrypt a message under a given policy public key.                            |
+--------------------------+-------------------------------------------------------------------------------+
| ``run``                  | Start Enrico's HTTP controller.                                               |
+--------------------------+-------------------------------------------------------------------------------+


Stake
-----

All staking-related operations can be executed through the ``nucypher stake`` command:

.. code:: bash

    (nucypher)$ nucypher stake ACTION [OPTIONS]


**Stake Command Actions**

+----------------------+-------------------------------------------------------------------------------+
| Action               |  Description                                                                  |
+======================+===============================================================================+
|  ``init-stakeholder``| Create a new stakeholder configuration                                        |
+----------------------+-------------------------------------------------------------------------------+
|  ``create``          | Initialize NuCypher stakes (used with ``--value`` and ``--duration``)         |
+----------------------+-------------------------------------------------------------------------------+
|  ``increase``        | Increase an existing stake's value                                            |
+----------------------+-------------------------------------------------------------------------------+
|  ``list``            | List active stakes for current stakeholder                                    |
+----------------------+-------------------------------------------------------------------------------+
|  ``accounts``        | Show ETH and NU balances for stakeholder's accounts                           |
+----------------------+-------------------------------------------------------------------------------+
|  ``bond-worker``     | Bond a worker to a staker                                                     |
+----------------------+-------------------------------------------------------------------------------+
|  ``unbond-worker``   | Unbond worker currently bonded to a staker                                    |
+----------------------+-------------------------------------------------------------------------------+
|  ``collect-reward``  | Withdraw staking compensation from the contract to your wallet                |
+----------------------+-------------------------------------------------------------------------------+
|  ``divide``          | Create a new stake from part of an existing one                               |
+----------------------+-------------------------------------------------------------------------------+
|  ``restake``         | Manage automatic reward re-staking                                            |
+----------------------+-------------------------------------------------------------------------------+
|  ``prolong``         | Prolong an existing stake's duration                                          |
+----------------------+-------------------------------------------------------------------------------+
|  ``winddown``        | Manage winding down of stakes                                                 |
+----------------------+-------------------------------------------------------------------------------+
|  ``snapshots``       | Manage taking snapshots                                                       |
+----------------------+-------------------------------------------------------------------------------+
|  ``mint``            | Mint last portion of reward                                                   |
+----------------------+-------------------------------------------------------------------------------+
|  ``merge``           | Merge two stakes into one                                                     |
+----------------------+-------------------------------------------------------------------------------+
|  ``remove-unused``   | Remove unused stake                                                           |
+----------------------+-------------------------------------------------------------------------------+

**Stake Command Options**

+-----------------+--------------------------------------------+
| Option          |  Description                               |
+=================+============================================+
|  ``--value``    | Stake value                                |
+-----------------+--------------------------------------------+
|  ``--duration`` | Stake duration of extension                |
+-----------------+--------------------------------------------+
|  ``--index``    | Stake index                                |
+-----------------+--------------------------------------------+

**Re-stake Command Options**

+-------------------------+---------------------------------------------+
| Option                  |  Description                                |
+=========================+=============================================+
|  ``--enable``           | Enable re-staking                           |
+-------------------------+---------------------------------------------+
|  ``--disable``          | Disable re-staking                          |
+-------------------------+---------------------------------------------+
|  ``--lock-until``       | Enable re-staking lock until release period |
+-------------------------+---------------------------------------------+


Status
------


.. code:: bash

    (nucypher)$ nucypher status ACTION [OPTIONS]


+--------------------------+---------------------------------------------------------------------+
| Action                   | Description                                                         |
+==========================+=====================================================================+
| ``events``               | Show events associated to NuCypher contracts.                       |
+--------------------------+---------------------------------------------------------------------+
| ``fee-range``            | Provide information on the global fee range.                        |
+--------------------------+---------------------------------------------------------------------+
| ``locked-tokens``        | Display a graph of the number of locked tokens over time.           |
+--------------------------+---------------------------------------------------------------------+
| ``network``              | Overall information of the NuCypher Network.                        |
+--------------------------+---------------------------------------------------------------------+
| ``stakers``              | Show relevant information about stakers.                            |
+--------------------------+---------------------------------------------------------------------+


Ursula
------


.. code:: bash

    (nucypher)$ nucypher ursula ACTION [OPTIONS]


+--------------------------+---------------------------------------------------------------------+
| Action                   | Description                                                         |
+==========================+=====================================================================+
| ``init``                 | Create a brand new persistent Bob.                                  |
+--------------------------+---------------------------------------------------------------------+
| ``config``               | View and optionally update an existing Ursula's configuration.      |
+--------------------------+---------------------------------------------------------------------+
| ``destroy``              | Delete existing Bob's configuration.                                |
+--------------------------+---------------------------------------------------------------------+
| ``forget``               | Delete all stored peer metadata.                                    |
+--------------------------+---------------------------------------------------------------------+
| ``save-metadata``        | Manually write node metadata to disk without running.               |
+--------------------------+---------------------------------------------------------------------+
| ``run``                  | Start Ursula.                                                       |
+--------------------------+---------------------------------------------------------------------+
